{"version":3,"file":"main.d3cabfa7a9cd0f057425.js","mappings":"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","sources":["webpack://wp/./src/ts/view.ts","webpack://wp/./src/ts/controller.ts","webpack://wp/./src/index.ts"],"sourcesContent":["import { Data } from \"./controller\";\r\n\r\n// шаблон страницы ----------------------------------------------------------\r\nconst wrapper: HTMLDivElement = document.createElement('div');\r\nwrapper.classList.add('wrapper');\r\ndocument.body.appendChild(wrapper);\r\n\r\nconst section: HTMLDivElement = document.createElement('div');\r\nsection.classList.add('section');\r\nwrapper.appendChild(section);\r\n\r\nexport const menuBox: HTMLDivElement = document.createElement('div');\r\nmenuBox.classList.add('menuBox');\r\nmenuBox.classList.add('visible');\r\nsection.appendChild(menuBox);\r\n\r\nconst bodyBox: HTMLDivElement = document.createElement('div');\r\nbodyBox.classList.add('bodyBox');\r\nsection.appendChild(bodyBox);\r\n\r\nconst upperLine: HTMLDivElement = document.createElement('div');\r\nupperLine.classList.add('upperLine');\r\nbodyBox.appendChild(upperLine);\r\n\r\nconst burgerBTN: HTMLButtonElement = document.createElement('button');\r\nburgerBTN.classList.add('burgerBTN');\r\nupperLine.appendChild(burgerBTN);\r\n\r\nconst burgerLine1: HTMLDivElement = document.createElement('div');\r\nburgerLine1.classList.add('burgerLine');\r\nburgerBTN.appendChild(burgerLine1);\r\n\r\nconst burgerLine2: HTMLDivElement = document.createElement('div');\r\nburgerLine2.classList.add('burgerLine');\r\nburgerBTN.appendChild(burgerLine2);\r\n\r\nconst burgerLine3: HTMLDivElement = document.createElement('div');\r\nburgerLine3.classList.add('burgerLine');\r\nburgerBTN.appendChild(burgerLine3);\r\n\r\nconst upperText: HTMLDivElement = document.createElement('div');\r\nupperText.classList.add('upperText');\r\nupperText.textContent = 'Marker News';\r\nupperLine.appendChild(upperText);\r\n\r\nconst contentBox: HTMLDivElement = document.createElement('div');\r\ncontentBox.classList.add('contentBox');\r\ncontentBox.innerHTML = 'Select news source';\r\nbodyBox.appendChild(contentBox);\r\n\r\n// источники новостей ---------------------------------------------------------\r\nexport function renderSource(set: string[]): void {\r\n    for (let i = 0; i < set.length; i++) {\r\n        const source: HTMLButtonElement = document.createElement('button');\r\n        source.classList.add('sourceBTN');\r\n        source.textContent = `${set[i]}`;\r\n        menuBox.appendChild(source);\r\n    }\r\n}\r\n\r\n// блоки новостей -------------------------------------------------------------\r\nexport function renderNews(data: Data, target: string | null): void {\r\n    contentBox.innerHTML = ''; //очистка блока перез заполнением\r\n\r\n    for (let i = 0; i < data.articles.length; i++) {\r\n        if (data.articles[i].source.name === target) {\r\n            const newsBox: HTMLDivElement = document.createElement('div');\r\n            newsBox.classList.add('newsBox');\r\n            contentBox.appendChild(newsBox);\r\n\r\n            const imgBox: HTMLDivElement = document.createElement('div');\r\n            imgBox.classList.add('imgBox');\r\n            imgBox.style.backgroundImage = `url('${data.articles[i].urlToImage}')`;\r\n            newsBox.appendChild(imgBox);\r\n\r\n            const textBox: HTMLDivElement = document.createElement('div');\r\n            textBox.classList.add('textBox');\r\n            newsBox.appendChild(textBox);\r\n\r\n            const title: HTMLDivElement = document.createElement('div');\r\n            title.classList.add('title');\r\n            title.textContent = `${data.articles[i].title}`;\r\n            textBox.appendChild(title);\r\n\r\n            const description: HTMLDivElement = document.createElement('div');\r\n            description.classList.add('description');\r\n            description.innerHTML = `${data.articles[i].description} <a target=\"_blank\" href='${data.articles[i].url}'>read more<a>`;\r\n            textBox.appendChild(description);\r\n\r\n            const lastRow: HTMLDivElement = document.createElement('div');\r\n            lastRow.classList.add('lastRow');\r\n            textBox.appendChild(lastRow);\r\n\r\n            const date: HTMLDivElement = document.createElement('div');\r\n            date.classList.add('date');\r\n            const dateStr = `${(data.articles[i].publishedAt).slice(11, 16)} ${(data.articles[i].publishedAt).slice(0, 10)}`;\r\n            date.textContent = dateStr;\r\n            lastRow.appendChild(date);\r\n\r\n            const author: HTMLDivElement = document.createElement('div');\r\n            author.classList.add('author');\r\n            if (data.articles[i].author !== null) {\r\n                author.textContent = `${data.articles[i].author}`;\r\n            }\r\n            lastRow.appendChild(author);\r\n        }\r\n    }\r\n}\r\n\r\n// делает активной кнопку ---------------------------------------------------------\r\nexport function activeBTN(btn: HTMLDivElement): void {\r\n    menuBox.childNodes.forEach((node) => {\r\n        (node as HTMLDivElement).classList.remove('active'); // убирает активный класс со всех элементов\r\n    })\r\n    btn.classList.add('active'); // добавляет активный класс нажатой кнопке\r\n}\r\n\r\n// бургер меню ----------------------------------------------------------\r\nfunction onClickBurger() {\r\n    menuBox.classList.toggle('visible');\r\n}\r\nburgerBTN.addEventListener('click', onClickBurger); // нажатие на бургер\r\n\r\nexport function unvisible() { //скрывает бурегр меню\r\n    if (menuBox.classList.contains('visible')) {\r\n        menuBox.classList.remove('visible');\r\n    }\r\n}\r\n// -----------------------------------------------------------------------------\r\n","import { renderSource, menuBox, renderNews, activeBTN, unvisible } from '../ts/view';\r\n\r\nexport interface Data {\r\n    status: string, totalResults: number, articles: Array<{\r\n        author: string, title: string, description: string, content: string, publishedAt: string, url: string, urlToImage: string,\r\n        source: { name: string }\r\n    }>\r\n}\r\nlet data: Data; // обьект с новостями\r\n\r\n// запрос на получение массива новостей ----------------------------------------------------------------------------------\r\nexport async function getNews(): Promise<void> {\r\n    const apiKey = '418c2e2443aa40699febdfeb5115de86';\r\n    const url = `https://nodenews.herokuapp.com/everything?q=technique&sortBy=popularity&apiKey=${apiKey}`;\r\n    const res: Response = await fetch(url); // fetch запрос\r\n    data = await res.json(); // обьект с ответом\r\n    const sources: string[] = []; //массив источников новостей\r\n    for (let i = 0; i < data.articles.length; i++) {\r\n        sources.push(data.articles[i].source.name);\r\n    }\r\n    const set: string[] = sources.filter((item, pos) => sources.indexOf(item) === pos); // убирает повторяющиеся источники\r\n    renderSource(set); // отрисовка источников\r\n}\r\n\r\n// нажатие на кнопку меню -----------------------------------------------------------------------------------------------\r\nfunction onClickBTN(e: Event): void {\r\n    if ((e.target as HTMLDivElement).classList.contains('sourceBTN')) {\r\n        activeBTN(e.target as HTMLDivElement); // делает активной кнопку\r\n        renderNews(data, (e.target as HTMLDivElement).textContent); // отрисовка новостей\r\n        unvisible(); // скрывает бурегр меню\r\n    }\r\n}\r\nmenuBox.addEventListener('click', (e: Event): void => { onClickBTN(e) });\r\n\r\n// -----------------------------------------------------------------------------------------------------------------------","import './styles/index.scss';\r\nimport { getNews } from './ts/controller'\r\n\r\nwindow.addEventListener('load',  getNews ); // запрос на получение массива новостей"],"names":["wrapper","document","createElement","classList","add","body","appendChild","section","menuBox","bodyBox","upperLine","burgerBTN","burgerLine1","burgerLine2","burgerLine3","upperText","textContent","contentBox","innerHTML","addEventListener","toggle","data","e","btn","target","contains","childNodes","forEach","node","remove","i","articles","length","source","name","newsBox","imgBox","style","backgroundImage","urlToImage","textBox","title","description","url","lastRow","date","dateStr","slice","author","renderNews","onClickBTN","window","res","fetch","json","sources","push","set","renderSource","filter","item","pos","indexOf"],"sourceRoot":""}